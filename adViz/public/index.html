<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>AdViz</title>
    <link href="stylesheets/style.css" rel="stylesheet">
    <link href="stylesheets/ol.css" rel="stylesheet">
    <script src="javascripts/ol.js"></script>
    <script src="javascripts/globals.js"></script>
    <script src="javascripts/api.js"></script>
    <script src="javascripts/adviz.js"></script>
    <script src="javascripts/contact-list.js"></script>
    <script src="javascripts/map.js"></script>
    <script src="javascripts/backend.js"></script>
    <script src="javascripts/utils.js"></script>
</head>
<body onload="initAdviz()">

<header class="header">
    <div class="header-logo">
        <img src="images/map-marked-alt-solid.svg" alt="" width="30" height="24">
        <span>AdViz</span>
    </div>
    <button class="btn btn-navbar logged" type="button" style="display: none" onclick="logout()">Logout</button>
</header>

<div id="login" class="popup contentbox login">
    <form onsubmit="handleLogin(event)" method="dialog">
        <div class="popup-header">
            <h3>Login</h3>
        </div>
        <div class="popup-content">
            <label for="username">Username:</label><br>
            <input type="text" id="username" name="username" required><br>
            <label for="pwd">Password:</label><br>
            <input type="password" id="pwd" name="pwd" required><br><br>
        </div>
        <div class="popup-footer">
            <button type="submit" name="login" class="btn">Login</button>
            <button class="btn btn-reset" type="button" onclick="resetAllData()">Reset all Data</button>
        </div>
    </form>
</div>

<div id="contacts" class="logged" style="display: none">
    <h3 id="welcome-msg">Hallo</h3>
    <nav>
        <button class="btn" onclick="getContacts(loggedUser._id, false)">Show my contacts</button>
        <button class="btn" onclick="getContacts(loggedUser._id, true)">Show all contacts</button>
        <button class="btn" onclick="openPopup(false)">Add new contact</button>
    </nav>
    <div class="row">
        <aside class="col side-list contentbox">
            <h3>Contacts</h3>
            <ul id="name-list"></ul>
        </aside>
        <div class="col contentbox">
            <div id="map"></div>
        </div>
    </div>
</div>

<div class="popup-container" style="display: none" id="add-contact">
    <div class="popup contentbox add center">
        <form onsubmit="handleUserForm(event)" method="dialog">
            <div class="popup-header">
                <h3 id="popup-header-text">Add Contact</h3>
            </div>
            <div class="popup-content">
                <label for="firstName">First name:</label><br>
                <input type="text" id="firstName" name="firstName" required><br>
                <label for="lastName">Last name:</label><br>
                <input type="text" id="lastName" name="lastName" required><br>
                <label for="street">Street & Number:</label><br>
                <input type="text" id="street" name="street" required><br>
                <label for="zip">ZIP:</label><br>
                <input type="text" id="zip" name="zip" required><br>
                <label for="city">City:</label><br>
                <input type="text" id="city" name="city" required><br>
                <label for="state">State:</label><br>
                <input type="text" id="state" name="state"><br>
                <label for="country">Country:</label><br>
                <input type="text" id="country" name="country"><br>
                <label for="privat">Privat:</label><br>
                <input type="checkbox" id="privat" name="privat" checked><br>
                <label for="owner">Owner:</label><br>
                <select name="owner" id="owner">
                </select>
                <br>
            </div>
            <div class="popup-footer">
                <button type="submit" name="add" class="btn" id="btn-add-contact" style="display: none">Add</button>
                <button type="submit" name="update" class="btn" id="btn-update-contact" style="display: none">Update
                </button>
                <button type="button" onclick="handleDelete()" class="btn btn-danger" id="btn-delete-contact"
                        style="display: none">Delete
                </button>
                <button type="button" onclick="closePopup()" class="btn btn-secondary">Close</button>
            </div>
        </form>
    </div>
</div>
</body>
</html>
